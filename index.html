<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Pickleball Court Camera</title>
  <style>
    html, body {
      background: #111;
      color: #fff;
      font-family: Arial, sans-serif;
      margin: 0;              /* remove default page margin */
    }
    .wrap {
      max-width: 1400px;      /* optional: cap width on huge monitors */
      margin: 0 auto;
      text-align: center;
      padding: 16px;
    }
    h1 { margin: 12px 0 16px; }
    #snapshot {
      display: block;
      width: 100%;            /* fill container width */
      height: auto;           /* keep aspect ratio */
      border: 4px solid #444;
      border-radius: 8px;
    }
    .note { color: #bbb; margin-top: 8px; }
  </style>

  <script>
    // ---- CHANGE THIS PASSWORD ----
    const CORRECT_PASSWORD = "pickleball123";

    // Only prompt if not already validated in this tab
    (function authGate() {
      if (sessionStorage.getItem("pbAuthOK") === "1") return;

      const entered = prompt("Enter password to view the camera:");
      if (entered !== CORRECT_PASSWORD) {
        document.write("<h1 style='color:white;text-align:center;margin-top:50px;'>Access Denied</h1>");
        // Stop further parsing/execution
        throw new Error("Unauthorized");
      }
      sessionStorage.setItem("pbAuthOK", "1");
    })();
  </script>
</head>
<body>
  <div class="wrap">
    <h1>Pickleball Court Camera</h1>
    <img id="snapshot" src="snapshot.jpg" alt="Latest Snapshot" />
    <div class="note">Image updates automatically every 60 seconds</div>
  </div>

  <script>
    // Refresh only the image every 60 seconds with a cache-busting query param
    const img = document.getElementById("snapshot");
    function refreshImage() {
      const url = "snapshot.jpg?t=" + Date.now();
      // swap src to force a fresh fetch without flicker
      img.src = url;
    }
    setInterval(refreshImage, 60000); // 60,000 ms = 60s
  </script>
</body>
</html>
